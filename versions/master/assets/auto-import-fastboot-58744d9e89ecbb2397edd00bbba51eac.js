(window.webpackJsonp_ember_auto_import_=window.webpackJsonp_ember_auto_import_||[]).push([[3],{20:function(e,t,i){e.exports=i(21)},21:function(e,t,i){window,e.exports=function(e){var t={}
function i(n){if(t[n])return t[n].exports
var r=t[n]={i:n,l:!1,exports:{}}
return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e
if(4&t&&"object"==typeof e&&e&&e.__esModule)return e
var n=Object.create(null)
if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r))
return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e}
return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([function(e){e.exports={name:"hellosign-embedded",version:"1.6.1",description:"Embed HelloSign signature requests and templates from within your web application.",homepage:"https://github.com/HelloFax/hellosign-embedded",main:"index.js",license:"ISC",scripts:{build:"webpack",demo:"npm run build && npm start --prefix=demo",prerelease:"node scripts/pre-release.js",setup:"npm install && npm run build && npm run setup --prefix=demo",test:"mocha test"},repository:{type:"git",url:"https://github.com/HelloFax/hellosign-embedded.git"},author:{name:"HelloSign",email:"api@hellosign.com",url:"https://hellosign.com"},devDependencies:{"@babel/core":"^7.0.0-beta.42","@babel/plugin-proposal-object-rest-spread":"^7.0.0-beta.42","@babel/plugin-transform-object-assign":"^7.0.0-beta.42","@babel/preset-env":"^7.0.0-beta.42","babel-loader":"^8.0.0-beta.2",chai:"^4.1.2",jsdom:"^11.6.2","jsdom-global":"^3.0.2",mocha:"^5.0.4",webpack:"^4.2.0","webpack-cli":"^2.0.13"},files:["umd","index.js"]}},function(e,t,i){"use strict"
function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]
for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var t=function(){var e={}
return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,i,n){e[i]=n}),e}()
window.isDebugEnabled=!!t.debug&&"true"===t.debug
var o=navigator.userAgent.toLowerCase(),a={cacheBust:0,lastHash:0,intervalId:0,rmCallback:null,defaultDelay:500,hasPostMessage:void 0!==window.postMessage,_serializeMessageValue:function(e){return"object"===r(e)&&(e=JSON.stringify(e)),encodeURIComponent(e)},send:function(e,t,i){d("XWM Send: Sending Message."),d("  targetUrl: "+t)
var n=a
if(t){if("string"!=typeof e){var r=[]
for(var o in e)r.push(o+"="+this._serializeMessageValue(e[o]))
e=r.join("&")}if(d("  message: "+e),n.hasPostMessage)(i=i||parent).postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1"))
else if(t){var s=(new Date).getTime(),l=++n.cacheBust,c=document.getElementById(i)
c?c.setAttribute("src",t.replace(/#.*$/,"")+"#"+s+l+"&"+e):parent.location=t.replace(/#.*$/,"")+"#"+s+l+"&"+e}d("XWM Send: Message sent.")}},receive:function(e,t,i){"function"!=typeof e&&c("callback must be a function"),"string"!=typeof t&&c("sourceOrigin must be a string"),d("XWM Receive: Initialize receiver."),d("  callback: "+(e.name?e.name:"Anonymous function")),d("  sourceOrigin: "+t)
var n=a
n.hasPostMessage?(e&&(n.rmCallback&&(window.addEventListener?window.removeEventListener("message",n.rmCallback,!1):window.detachEvent("onmessage",n.rmCallback)),n.rmCallback=function(i){if(i.origin!==t&&!new RegExp("[/|.]"+t+"$","i").test(i.origin))return!1
d("XWM Receive: Message received!"),d("  data: "+i.data),d("  sourceOrigin: "+t),e(i)}),window.addEventListener?window.addEventListener("message",n.rmCallback,!1):window.attachEvent("onmessage",n.rmCallback)):(d("XWM Receive: Starting poll..."),n.intervalId&&(clearInterval(n.intervalId),n.intervalId=null),void 0===i&&(i=n.defaultDelay),e&&(i=void 0!==i?i:200,n.intervalId=setInterval(function(){var i=document.location.hash,r=/^#?\d+&/
if(i!==n.lastHash&&r.test(i)){n.lastHash=i
var o=i.replace(r,"")
d("XWM Receive: Message received!"),d("  data: "+o),d("  sourceOrigin: "+t),e({data:o})}},i)))}},s={savedViewportContent:"",set:function(){d("Optimizing viewport meta tag for mobile"),this.savedViewportContent=this._getElement().getAttribute("content")
var e=this._explodePairs(this.savedViewportContent)
e.width="device-width",e["maximum-scale"]="1.0",e["user-scalable"]="no",this._getElement().setAttribute("content",this._joinPairs(e))},restore:function(){d("Restoring viewport meta tag"),this._getElement().setAttribute("content",this.savedViewportContent)},_getElement:function(){var e=document.querySelector("meta[name=viewport]")
return e||((e=document.createElement("meta")).setAttribute("name","viewport"),e.setAttribute("content","initial-scale=1.0"),document.head.appendChild(e)),e},_joinPairs:function(e){var t=[]
for(var i in e)t.push(i+"="+e[i])
return t.join(", ")},_explodePairs:function(e){var t={}
return e.split(",").forEach(function(e){var i=(e=e.trim()).split("=")
t[i[0]]=i[1]}),t}},l={VERSION:i(0).version,IFRAME_WIDTH_RATIO:.8,DEFAULT_WIDTH:900,DEFAULT_HEIGHT:900,MIN_HEIGHT:480,wrapper:null,iframe:null,overlay:null,cancelButton:null,clientId:null,isOldIE:/msie (8|7|6|5)/gi.test(o),isFF:/firefox/gi.test(o),isOpera:/opera/gi.test(o),isMobile:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(o),baseUrl:"https://www.hellosign.com",cdnBaseUrl:"https://s3.amazonaws.com/cdn.hellofax.com",XWM:a,CULTURES:{EN_US:"en_US",FR_FR:"fr_FR",DE_DE:"de_DE",SV_SE:"sv_SE",ZH_CN:"zh_CN",DA_DK:"da_DK",NL_NL:"nl_NL",ES_ES:"es_ES",ES_MX:"es_MX",PT_BR:"pt_BR",PL_PL:"pl_PL",init:function(){return this.supportedCultures=[this.EN_US,this.FR_FR,this.DE_DE,this.SV_SE,this.ZH_CN,this.DA_DK,this.NL_NL,this.ES_ES,this.ES_MX,this.PT_BR,this.PL_PL],this}}.init(),isDebugEnabled:window.isDebugEnabled,EVENT_SIGNED:"signature_request_signed",EVENT_DECLINED:"signature_request_declined",EVENT_CANCELED:"signature_request_canceled",EVENT_REASSIGNED:"signature_request_reassigned",EVENT_SENT:"signature_request_sent",EVENT_TEMPLATE_CREATED:"template_created",EVENT_ERROR:"error",init:function(e){this.clientId=e},open:function(e){var t=this,i=this.safeUrl(e.redirectUrl),o=e.messageListener,c=this.safeUrl(e.url)
if(this.healthCheckTimeoutMs=e.healthCheckTimeoutMs,!c)throw new TypeError("Must provide arguments to open()")
if(void 0!==e.debug&&(this.isDebugEnabled=!0===e.debug||"true"==e.debug),void 0!==e.skipDomainVerification&&(this.skipDomainVerification=!0===e.skipDomainVerification||"true"==e.skipDomainVerification),void 0!==e.hideHeader&&(this.hideHeader=!0===e.hideHeader||"true"==e.hideHeader),void 0!==e.finalButtonText&&(this.finalButtonText=e.finalButtonText),"object"===r(e.whiteLabelingOptions)?(this.whiteLabelingOptions=JSON.stringify(e.whiteLabelingOptions),this.whiteLabelingOptions=this.whiteLabelingOptions.replace(/#/g,"")):void 0!==e.whiteLabelingOptions&&d("Invalid white labeling options supplied, option will be ignored: "+e.whiteLabelingOptions),this.isInPage=void 0!==e.container,this.container=e.container||document.body,this.isInPage&&void 0!==e.height&&(isNaN(parseInt(e.height,10))||e.height<=0))throw new Error("Invalid iFrame height ("+e.height+") it must be a valid positive number")
if(d("Opening HelloSign embedded iFrame with the following params:"),d(e),!c)throw new Error("No url specified")
var u=void 0===e.userCulture?this.CULTURES.EN_US:e.userCulture
if(-1===this.inArray(u,this.CULTURES.supportedCultures))throw new Error("Invalid userCulture specified: "+u)
c+=c.indexOf("?")>0?"&":"?",i&&(c+="redirect_url="+encodeURIComponent(i)+"&"),c+="parent_url="+encodeURIComponent(document.location.href.replace(/\?.*/,""))+"&",c+=!0===this.skipDomainVerification?"skip_domain_verification=1&":"",c+="client_id="+this.clientId+"&",c+=void 0!==e.requester?"requester="+encodeURIComponent(e.requester)+"&":"",c+="user_culture="+u,this.isDebugEnabled&&(c+="&debug=true"),this.hideHeader&&(c+="&hideHeader=true"),this.whiteLabelingOptions&&(c+="&white_labeling_options="+encodeURI(this.whiteLabelingOptions)),this.finalButtonText&&(c+="&final_button_text="+this.finalButtonText)
var h=(c+="&js_version="+this.VERSION).replace(/([^:]+:\/\/[^\/]+).*/,"$1"),p=this.getWindowDimensions(e.height),f={overlay:{position:"fixed",top:"0px",left:"0px",bottom:"0px",right:"0px","z-index":9997,display:"block","background-color":"#222",opacity:.4,"-khtml-opacity":.4,"-moz-opacity":.4,filter:"alpha(opacity=40)","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=40)"},wrapper:this.isInPage?{}:{position:"absolute",top:p.top,left:p.left,"z-index":9998},iframe:this.isInPage?{}:{margin:"1px","background-color":"#FFF","z-index":9998},cancelButton:{position:"absolute",top:"-13px",right:"-13px",width:"30px",height:"30px","background-image":"url("+this.cdnBaseUrl+"/css/fancybox/fancybox.png)","background-position":"-40px 0px",cursor:"pointer","z-index":9999}},m=function(){if(t.iframe){var e
e=t.isMobile?t.getMobileDimensions():t.getWindowDimensions(),t.wrapper.style.top=e.top,t.wrapper.style.left=e.left,t.wrapper.style.width=e.widthString,t.iframe.style.height=e.heightString,t.iframe.style.width=e.widthString}}
if(this.isInPage)f.wrapper.width="100%",f.wrapper.height=p.heightString,f.iframe.width="100%",f.iframe.height=p.heightString,f.iframe.border="none",f.iframe["box-shadow"]="none",f.cancelButton.display="none",this.isMobile&&(f.iframe.width="1px",f.iframe["min-width"]="100%")
else if(this.isMobile){var g=this.getMobileDimensions()
f.wrapper.position="absolute",f.wrapper.top="0",f.wrapper.left="0",f.wrapper.width=g.widthString,f.wrapper.height=g.heightString,f.iframe.position="absolute",f.iframe.top=0,f.iframe.left=0,f.iframe.width=g.widthString,f.iframe.height=g.heightString,f.iframe.border="none",f.iframe["box-shadow"]="none",f.cancelButton.display="none"}for(var b in this.isInPage||(this.overlay||(this.overlay=document.createElement("div"),this.overlay.setAttribute("id","hsEmbeddedOverlay"),document.body.appendChild(this.overlay)),this.overlay.setAttribute("style","display: block;")),this.wrapper||(this.wrapper=document.createElement("div"),this.wrapper.setAttribute("id","hsEmbeddedWrapper"),this.isMobile&&window.scrollTo(0,0),this.container.appendChild(this.wrapper)),this.isInPage||(window.onresize=m),this.iframe||(this.iframe=document.createElement("iframe"),this.iframe.setAttribute("id","hsEmbeddedFrame"),this.wrapper.appendChild(this.iframe)),this.iframe.setAttribute("src",c),this.iframe.setAttribute("scrolling","no"),this.iframe.setAttribute("frameborder","0"),this.iframe.setAttribute("height",p.heightRaw),-1===c.indexOf("embeddedSign")&&(this.isInPage||!0!==e.allowCancel&&void 0!==e.allowCancel||this.cancelButton?!e.allowCancel&&this.cancelButton&&this.wrapper.removeChild(this.cancelButton):(this.cancelButton=document.createElement("a"),this.cancelButton.setAttribute("id","hsEmbeddedCancel"),this.cancelButton.setAttribute("href","javascript:;"),this.cancelButton.onclick=function(){l.close(),o&&(d("Reporting cancelation"),o({event:l.EVENT_CANCELED}))},this.wrapper.appendChild(this.cancelButton))),f){var w=this[b]
if(w)for(var v in f[b])try{w.style[v]=f[b][v]}catch(e){d(e)}}if(this.cancelButton&&(this.isFF||this.isOpera)){var E=this.cancelButton.getAttribute("style")
E+=E?"; ":"",E+="background-image: "+f.cancelButton["background-image"]+"; ",E+="background-position: "+f.cancelButton["background-position"]+";",this.cancelButton.setAttribute("style",E)}this.isInPage||this.isMobile||m(),this.isMobile&&window===window.top&&s.set(),this.isMobile&&!this.isInPage&&(this.fixIframe=function(e,t,i){var n
return function(){var e=this,t=arguments
clearTimeout(n),n=setTimeout(function(){n=null,function(){window.scrollTo(0,0)}.apply(e,t)},1e3)}}(),this.fixIframe(),window.addEventListener("scroll",this.fixIframe)),this.healthCheckTimeoutMs&&(this._healthCheckTimeoutHandle=setTimeout(function(){var e="Signer page failed to initialize within "+t.healthCheckTimeoutMs+" milliseconds."
t.reportError(e,document.location.href),t.close()},this.healthCheckTimeoutMs)),a.receive(function(i){var s=i.source||"hsEmbeddedFrame"
if("initialize"===i.data){t.healthCheckTimeoutMs&&clearTimeout(t._healthCheckTimeoutHandle)
var d=n({},e)
delete d.container,a.send(JSON.stringify({type:"embeddedConfig",payload:d}),i.origin,s)}else if("close"==i.data)l.close(),o&&o({event:l.EVENT_CANCELED})
else if("decline"==i.data)l.close(),o({event:l.EVENT_DECLINED})
else if("reassign"==i.data)o({event:l.EVENT_REASSIGNED})
else if("user-done"==i.data)l.close()
else if("string"==typeof i.data&&0===i.data.indexOf("hello:")){var u=i.data.split(":")[1]
a.send("helloback:"+u,c,s)}else if(o&&i.data&&"string"==typeof i.data){for(var h,p={},f=i.data.split("&"),m=function(e){var t=e
try{if("object"===r(t=JSON.parse(e)))for(var i in t)t[i]=parseJson(t[i])}catch(e){}return t},g=0;g<f.length;g++)2===(h=f[g].split("=")).length&&(p[h[0]]=m(decodeURIComponent(h[1])))
o(p)}},h)},close:function(){this.isMobile&&window===window.top&&s.restore(),d("Closing HelloSign embedded iFrame"),this.iframe&&(this.cancelButton&&(this.wrapper.removeChild(this.cancelButton),this.cancelButton=null),this._fadeOutIFrame()),this.isMobile&&window.removeEventListener("scroll",this.fixIframe)},_fadeOutIFrame:function(e){var t=this
if(t.iframe){if(e?e-=.1:e=1,t.iframe.style.opacity=e,t.iframe.style.filter="alpha(opacity="+parseInt(100*e,10)+")",e<=0)return t.iframe.style.opacity=0,t.iframe.style.filter="alpha(opacity=0)",t.iframe.style.display="none",clearTimeout(i),t.overlay&&t.container.removeChild(t.overlay),t.container.removeChild(t.wrapper),t.wrapper.removeChild(t.iframe),t.overlay=null,t.iframe=null,t.wrapper=null,!1
var i=setTimeout(function(e){return function(){t._fadeOutIFrame(e)}}(e),10)}},reportError:function(e,t){a.send({event:l.EVENT_ERROR,description:e},t)},ensureParentDomain:function(e,t,i,n,r){if(window.top!=window)if("string"==typeof i)if("function"==typeof r){if(!0===n){var o="Domain verification has been skipped. Before requesting approval for your app, please be sure to test domain verification by setting skipDomainVerification to false."
d(o),alert(o),r(!0)}else a.receive(function(e){if(0===e.data.indexOf("helloback:")){var t=e.data.split(":")[1]==i
r(t)}},e)
a.send("hello:"+i,t)}else c("Callback not supplied by HelloSign. Please contact support.")
else c("Token not supplied by HelloSign. Please contact support.")
else r(!0)},getWindowDimensions:function(e){var t,i,n=h()?window.pageXOffset:u()?document.documentElement.scrollLeft:document.body.scrollLeft,r=h()?window.pageYOffset:u()?document.documentElement.scrollTop:document.body.scrollTop
this.isOldIE?(t=document.body.clientWidth,i=document.body.clientHeight):(t=window.innerWidth,i=window.innerHeight)
var o=this.isInPage&&e?e:Math.max(this.MIN_HEIGHT,i-60)
return{widthString:Math.min(this.DEFAULT_WIDTH,t*this.IFRAME_WIDTH_RATIO)+"px",heightString:o+"px",heightRaw:o,scrollX:n,scrollY:r,top:Math.max(0,r+parseInt((i-o)/2,10))+"px",left:Math.max(0,parseInt((t-this.DEFAULT_WIDTH)/2,10))+"px"}},getMobileDimensions:function(){var e,t=screen.width,i=(screen.height,window.innerWidth)
return(e=window.innerHeight>i?{widthString:t+"px",heightString:"100%"}:{widthString:i+"px",heightString:"100%"}).top="0",e.left="0",e},inArray:function(e,t){if(this.hasJQuery)return $.inArray(e,t)
if(t)for(var i=0;i<t.length;i++)if(t[i]==e)return i
return-1},safeUrl:function(e){if(e)try{e=(e=e.replace(/</g,"&lt;")).replace(/>/g,"&gt;")
var t=document.createElement("div")
t.innerHTML=e,e=t.innerText||e.replace(/\&amp\;/g,"&")}catch(e){d("Could not decode url: "+e)}return e}}
function c(e){void 0!==e&&(window.console&&console.log?console.log(e):alert(e))}function d(e){l.isDebugEnabled&&void 0!==e&&window.console&&console.log&&console.log(e)}function u(){return"CSS1Compat"===(document.compatMode||"")}function h(){return void 0!==window.pageXOffset}window.HelloSign=l,e.exports=l}()}])}}])
